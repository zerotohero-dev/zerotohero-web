<!DOCTYPE html> <html lang="en"><head>
<title>Managing Custom Resources in VCF Automation Blueprints</title>
<base href="../../../..">
<meta name="pathname" content="vcf/control-planes/vcf-automation/policy-and-extensibility/managing-custom-resources-in-vcf-automation-blueprints.html">
<meta name="description" content="VMware Cloud Foundation - Managing Custom Resources in VCF Automation Blueprints">
<meta property="og:title" content="Managing Custom Resources in VCF Automation Blueprints">
<meta property="og:description" content="VMware Cloud Foundation - Managing Custom Resources in VCF Automation Blueprints">
<meta property="og:type" content="website">
<meta property="og:url" content="vcf/control-planes/vcf-automation/policy-and-extensibility/managing-custom-resources-in-vcf-automation-blueprints.html">
<meta property="og:image" content="undefined">
<meta charset="UTF-8"><meta property="og:site_name" content="VMware Cloud Foundation"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="site-lib/rss.xml"><script async="" id="webpage-script" src="site-lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-wasm-script" src="site-lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="site-lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="site-lib/media/favicon.png"><link rel="stylesheet" href="site-lib/styles/obsidian.css"><link rel="preload" href="site-lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="site-lib/styles/theme.css"><link rel="preload" href="site-lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="site-lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/main-styles.css"></noscript><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-vertical-spacing:1.3em;--sidebar-margin:12px}:root{background-color:#202124}.sidebar{height:100%;font-size:14px;z-index:10;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));position:relative;overflow:hidden;overflow:clip;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}#left-sidebar{left:0}#right-sidebar{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}.sidebar.floating{position:absolute}.sidebar .leaf-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .leaf-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}#left-sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}#right-sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar #left-sidebar-content,.sidebar #right-sidebar-content{contain:none!important;container-type:normal!important;animation:none!important}.sidebar:has(.leaf-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:calc(2.3em + 2 * var(--sidebar-margin));width:var(--sidebar-width);padding:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}#left-sidebar .sidebar-topbar{left:0;flex-direction:row;border-top-right-radius:var(--radius-l)}#right-sidebar .sidebar-topbar{right:0;flex-direction:row-reverse;border-top-left-radius:var(--radius-l)}#left-sidebar .topbar-content{margin-right:calc(2.3em + var(--sidebar-margin));flex-direction:row}#right-sidebar .topbar-content{margin-left:calc(2.3em + var(--sidebar-margin));flex-direction:row-reverse}.topbar-content{overflow:hidden visible;overflow:clip visible;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:2px!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}#left-sidebar .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}#right-sidebar .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.feature-title{margin-left:1px;text-transform:uppercase;letter-spacing:.06em;margin-top:.75em;margin-bottom:.75em}.feature-header{display:flex;align-items:center;padding-top:0;font-size:1em;padding-left:0}body.floating-sidebars .sidebar{position:absolute}body{transition:background-color var(--color-fade-speed) ease-in-out}#navbar:not(:empty){display:flex;align-items:center;justify-content:space-between;padding:.5em 1em;width:100%}#main{display:flex;flex-direction:column;height:100%;width:100%;align-items:stretch;justify-content:center}#main-horizontal{display:flex;flex-direction:row;flex-grow:1;width:100%;align-items:stretch;justify-content:center}#center-content{flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0!important;transition:opacity .2s ease-in-out;pointer-events:none}#center-content>.obsidian-document{padding-left:2em;padding-right:1em;margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}body #center-content>.obsidian-document>.markdown-preview-sizer{padding-bottom:80vh;width:100%;max-width:var(--line-width);flex-basis:var(--line-width);transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}#center-content>.obsidian-document>div{width:100%!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}#center-content>.obsidian-document:not([data-type=markdown]).embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}#center-content>.obsidian-document:not([data-type=markdown]).embed>*{max-width:100%;max-height:100%;object-fit:contain}:not(h1,h2,h3,h4,h5,h6,li):has(> :is(.math,table)){overflow-x:auto!important}#center-content>.obsidian-document:not([data-type=markdown]){overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.obsidian-document[data-type=attachment]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:100%}.obsidian-document[data-type=attachment]>*{outline:0;border:none;box-shadow:none}.obsidian-document[data-type=attachment] :is(img){max-width:90%;max-height:90%;object-fit:contain}.obsidian-document[data-type=attachment]>:is(audio){width:100%;max-width:min(90%,var(--line-width))}.obsidian-document[data-type=attachment]>:is(embed,iframe,video){width:100%;height:100%;max-width:100%;max-height:100%;object-fit:contain}.canvas-wrapper>:is(.header,.footer){z-index:100;position:absolute;display:flex;justify-content:center;flex-direction:column;width:100%;align-items:center}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){let e=document.querySelectorAll("link[itemprop='include']");for(const t of e){let e=t.getAttribute("href");try{let o="";if(e.startsWith("https:")||e.startsWith("http:")||"file:"!=window.location.protocol){const n=await fetch(e);if(!n.ok){console.log("Could not include file: "+e),t?.remove();continue}o=await n.text()}else{const t=document.getElementById(btoa(encodeURI(e)));if(t){const e=JSON.parse(decodeURI(atob(t.getAttribute("value")??"")));o=e?.data??""}}let n=document.createRange().createContextualFragment(o);t.before(n),t.remove(),console.log("Included text: "+o),console.log("Included file: "+e)}catch(o){t?.remove(),console.log("Could not include file: "+e,o);continue}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script")));!function e(n){let l=o[n],c=n+1;l?(l&&"true"!=l.getAttribute("loaded")||n<o.length&&e(c),n<o.length&&l.addEventListener("load",(()=>e(c)))):n<o.length?e(c):t()}(0)}</script></head><body class="publish css-settings-manager mod-windows is-hidden-frameless styled-scrollbars show-inline-title show-ribbon show-view-header minimal-line-nums minimal-solarized-light minimal-dracula-dark is-focused trim-cols sidebar-tabs-default minimal-light-tonal colorful-headings colorful-frame colorful-active links-int-on links-ext-on full-width-media img-grid labeled-nav"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="parsed-feature-container" style="display: contents;"><link itemprop="include" href="site-lib/html/custom-head-content-content.html"></div><div id="main"><div id="navbar"></div><div id="main-horizontal"><div id="left-content" class="leaf" style="--sidebar-width: var(--sidebar-width-left);"><div id="left-sidebar" class="sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><div id="search-container"><div id="search-wrapper"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div aria-label="Clear search" id="search-clear-button"></div></div></div></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content-wrapper"><div id="left-sidebar-content" class="leaf-content"><link itemprop="include" href="site-lib/html/file-tree-content.html"></div></div><script defer="">let ls = document.querySelector("#left-sidebar"); ls.classList.toggle("is-collapsed", window.innerWidth < 768); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div></div><div id="center-content" class="leaf"><div class="obsidian-document markdown-preview-view markdown-rendered node-insert-event allow-fold-headings allow-fold-lists show-indentation-guide show-properties is-readable-line-width" data-type="markdown"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><div class="header"><h1 class="page-title heading inline-title" id="Managing_Custom_Resources_in_VCF_Automation_Blueprints_0">Managing Custom Resources in VCF Automation Blueprints</h1><div class="data-bar"></div></div><div class="markdown-preview-pusher" style="width: 1px; height: 0.1px; margin-bottom: 0px;"></div><div class="el-p"><p dir="auto">When you create a blueprint in&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Automation</p></div><div class="el-p"><p dir="auto">, the resource type palette includes a number of default resource types. You might have use cases where you want to create blueprints based on an expanded list of resource types. You can create custom resource types, add them to the design canvas, and create blueprints that support your design and deployment needs.</p></div><div class="el-p"><p dir="auto">Before you begin, ensure that a&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;instance is associated with your organization.</p></div><div class="el-p"><p dir="auto">As an organization administrator, you have two ways to create custom resources.</p></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>
<p>VCF Operations orchestrator</p>
<p>  &nbsp;inventory type.</p>
<p>  &nbsp;You can create custom resources based on existing&nbsp;</p>
<p>  VCF Operations orchestrator</p>
<p>  &nbsp;inventory objects, with or without leveraging the Dynamic Types plug-in for&nbsp;</p>
<p>  VCF Operations orchestrator</p>
<p>  . Dynamic type is required if the desired resource does not exist out-of-the-box in&nbsp;</p>
<p>  VCF Operations orchestrator</p>
<p>  &nbsp;as a SDK inventory object type. You can expose any&nbsp;</p>
<p>  VCF Operations orchestrator</p>
<p>  &nbsp;resource type, be it native, provided by a plug-in in&nbsp;</p>
<p>  VCF Operations orchestrator</p>
<p>  , or created using the Dynamic Types plug-in.</p>
</li>
<li data-line="26" dir="auto"><span class="list-bullet"></span>
<p>New schema</p>
<p>  . You can define custom resource types that are based on workflows with any kind of input and output. Every input and output becomes part of the schema and its value is shown in the deployment. Because this custom resource type is based on your own custom outputs instead of&nbsp;</p>
<p>  VCF Operations orchestrator</p>
<p>  &nbsp;inventory objects, you must provide a READ workflow in addition to the Create and Delete workflows. You also define what inputs that workflow has.</p>
<p>  For the Read and Delete workflows, you can map the inputs and outputs to schema properties. This is necessary because the schema property names might not match the input/outputs of the Read and Delete workflows.</p>
</li>
</ul></div><div class="el-h2"><h2 data-heading="" dir="auto" class="heading" id="_0"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span></h2></div><div class="el-p"><p dir="auto">Custom resource name and resource type</p></div><div class="el-p"><p dir="auto">The custom resource name identifies your custom resource inside the blueprint resource type palette.</p></div><div class="el-p"><p dir="auto">The resource type of a custom resource must begin with&nbsp;</p></div><div class="el-p"><p dir="auto">Custom.</p></div><div class="el-p"><p dir="auto">&nbsp;and each resource type must be unique. Although the inclusion of&nbsp;</p></div><div class="el-p"><p dir="auto">Custom.</p></div><div class="el-p"><p dir="auto">&nbsp;is not validated in the text box, the string is automatically added if you remove it.</p></div><div class="el-p"><p dir="auto">To add custom resources to blueprints, you must activate the custom resource. You can make the custom resource available to blueprints associated with a single project or make it available to all projects.</p></div><div class="el-h2"><h2 data-heading="" dir="auto" class="heading" id="_1"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span></h2></div><div class="el-p"><p dir="auto">Life cycle actions for custom resources</p></div><div class="el-p"><p dir="auto">You define the following life cycle actions for your custom resources:</p></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>
<p>**</p>
<p>  Create</p>
<p>  **: this action is called when a deployment is started.</p>
</li>
<li data-line="6" dir="auto"><span class="list-bullet"></span>
<p>**</p>
<p>  Read</p>
<p>  **: this action is used to retrieve the latest state of the deployed resource. The READ workflow is run every few minutes to get the latest status of every provisioned custom resource. You also define what inputs that workflow has, for example, you can just pass the resource ID as an input. The Read action is required only for new schema-based custom resources.</p>
</li>
<li data-line="12" dir="auto"><span class="list-bullet"></span>
<p>**</p>
<p>  Destroy</p>
<p>  **: this action is called when a deployment is deleted.</p>
</li>
</ul></div><div class="el-p"><p dir="auto">You can edit the&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;workflow associated with your life cycle actions by clicking the&nbsp;</p></div><div class="el-p"><p dir="auto">Change</p></div><div class="el-p"><p dir="auto">&nbsp;option for the action.</p></div><div class="el-h2"><h2 data-heading="" dir="auto" class="heading" id="_2"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span></h2></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;custom resources</p></div><div class="el-p"><p dir="auto">Each&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;custom resource is based on a SDK inventory type and is created by a&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;workflow that has an output which is an instance of your desired SDK type. Primitive types, such as&nbsp;</p></div><div class="el-p"><p dir="auto">Properties</p></div><div class="el-p"><p dir="auto">,&nbsp;</p></div><div class="el-p"><p dir="auto">Date</p></div><div class="el-p"><p dir="auto">,&nbsp;</p></div><div class="el-p"><p dir="auto">string</p></div><div class="el-p"><p dir="auto">, and&nbsp;</p></div><div class="el-p"><p dir="auto">number</p></div><div class="el-p"><p dir="auto">&nbsp;are not supported for the creation of custom resource types.</p></div><div class="el-p"><p dir="auto">SDK object types can be differentiated from other&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;property types by the colon (":") used to separate the plug-in name and the type name.</p></div><div class="el-p"><p dir="auto">You can use the built-in workflows in&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">, or you can create your own. You can create custom resources by clicking on the&nbsp;</p></div><div class="el-p"><p dir="auto">Resource Definition</p></div><div class="el-p"><p dir="auto">&nbsp;option in the custom resource editor and selecting&nbsp;</p></div><div class="el-p"><p dir="auto">Orchestrator inventory type</p></div><div class="el-p"><p dir="auto">.</p></div><div class="el-h2"><h2 data-heading="" dir="auto" class="heading" id="_3"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span></h2></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;custom resource inventory type</p></div><div class="el-p"><p dir="auto">The inventory type property defines the type of your custom resource.</p></div><div class="el-p"><p dir="auto">When you define your custom resource types, you can define the scope of the availability of the select external type. The selected external type can be:</p></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>
<p>Shared across projects.</p>
</li>
<li data-line="2" dir="auto"><span class="list-bullet"></span>
<p>Available only for the selected project.</p>
</li>
</ul></div><div class="el-p"><p dir="auto">When you select a Create workflow in your custom resource type, the inventory type drop-down appears underneath it. The drop-down includes inventory type properties, that are selected from the output parameters of the&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;workflow. The selected workflow output properties included in the drop-down must be non-array SDK object types such as&nbsp;</p></div><div class="el-p"><p dir="auto">VC:VirtualMachine</p></div><div class="el-p"><p dir="auto">.</p></div><div class="el-p"><p dir="auto">When creating custom workflows that use the dynamic type plug-in, verify that their variables are defined by using the&nbsp;</p></div><div class="el-p"><p dir="auto">DynamicTypesManager.getObject()</p></div><div class="el-p"><p dir="auto">&nbsp;method.</p></div><div class="el-p"><p dir="auto">You can only have one custom resource type with a specific inventory type value per defined scope. For example, if you create a custom resource in your project that uses&nbsp;</p></div><div class="el-p"><p dir="auto">VC:VirtualMachine</p></div><div class="el-p"><p dir="auto">&nbsp;as an inventory type, you cannot create another custom resource for the same project that uses the same inventory type. You also cannot create two shared custom resources that use the same inventory type.</p></div><div class="el-h2"><h2 data-heading="" dir="auto" class="heading" id="_4"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span></h2></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;life cycle action validation</p></div><div class="el-p"><p dir="auto">When you add Create, Destroy, and Read workflows as life cycle actions to your custom resource,&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;validates that the selected workflows have correct input and output property definitions.</p></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>
<p>The&nbsp;</p>
<p>  Create</p>
<p>  &nbsp;workflow must have an output parameter that is an SDK object type, such as&nbsp;</p>
<p>  SSH:Host</p>
<p>  &nbsp;or&nbsp;</p>
<p>  SQL:Database</p>
<p>  . If the selected workflow does not pass the validation, you cannot add Read or Destroy workflows, or save your changes to the custom resource. The Create workflow you select should output the desired type. For the old CR types(based on the Inventory), it is possible to create a deployment with CR by executing the create wf used in the CR as a Catalog item</p>
</li>
<li data-line="14" dir="auto"><span class="list-bullet"></span>
<p>The&nbsp;</p>
<p>  Destroy</p>
<p>  &nbsp;workflow must have an input parameter that is an SDK object type that matches the inventory type of the custom resource.</p>
</li>
<li data-line="20" dir="auto"><span class="list-bullet"></span>
<p>The&nbsp;</p>
<p>  Read</p>
<p>  &nbsp;workflow must have both an input and output parameter that is an SDK object type that matches the inventory type of the custom resource.</p>
</li>
</ul></div><div class="el-h2"><h2 data-heading="" dir="auto" class="heading" id="_5"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span></h2></div><div class="el-p"><p dir="auto">Custom resource property schema</p></div><div class="el-p"><p dir="auto">You can edit and view the custom resource properties schema by selecting the&nbsp;</p></div><div class="el-p"><p dir="auto">Schema Properties</p></div><div class="el-p"><p dir="auto">&nbsp;tab. The schema includes the name, data type, property type, and, if it is available, the description of a given property. The schema also defines if a specific property is required or optional in the blueprint.</p></div><div class="el-p"><p dir="auto">When you add&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;workflows to your custom resource, their input and output parameters are added as properties.</p></div><div class="el-p"><p dir="auto">From this tab, you can also modify and format the properties of your&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">-based custom resources. For example, you can change the display name of a given property, add constraints, or make it read- or write-only for the deployment.</p></div><div class="el-p"><p dir="auto">When adding constraints to either the item section of array fields or properties section of objects fields in the properties schema, verify that you have validated these constraints as incorrectly applied constraints can cause issues with the custom resource. For example, when adding a maximum constraint to a numbers array, you must verify that this constraint does not break the property's default value.</p></div><div class="el-p"><p dir="auto">You can edit the property schema for custom resources by navigating to the&nbsp;</p></div><div class="el-p"><p dir="auto">Schema Properties</p></div><div class="el-p"><p dir="auto">&nbsp;tab and using either the&nbsp;</p></div><div class="el-p"><p dir="auto">Code</p></div><div class="el-p"><p dir="auto">&nbsp;or&nbsp;</p></div><div class="el-p"><p dir="auto">Form</p></div><div class="el-p"><p dir="auto">&nbsp;tab.</p></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>
<p>Code</p>
<p>  : Edit the property schema by using YAML content. When selecting this option, the property schema is defined by using the JSON Schema.</p>
</li>
<li data-line="4" dir="auto"><span class="list-bullet"></span>
<p>Form</p>
<p>  : Hide non-required and non-computed properties from the schema by clicking&nbsp;</p>
<p>  Remove Property</p>
<p>  .</p>
</li>
</ul></div><div class="el-h2"><h2 data-heading="" dir="auto" class="heading" id="_6"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span></h2></div><div class="el-p"><p dir="auto">Day 2 Operation Custom Request Forms</p></div><div class="el-p"><p dir="auto">You can streamline the request form of the day 2 operations included in your custom resource by adding and modifying different types of resource properties.</p></div><div class="el-p"><p dir="auto">For example, you can bind the value of an input parameter in your request form to an external source, such as a&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;action that retrieves a deployment name or project name. You can also bind the value of a specific input parameter to the computed value of two other text boxes included in the same request form.</p></div><div class="el-p"><p dir="auto">This functionality is available for both custom resources and resource actions. You can customize the value of the input properties of your request form from the&nbsp;</p></div><div class="el-p"><p dir="auto">Values</p></div><div class="el-p"><p dir="auto">&nbsp;tab of the&nbsp;</p></div><div class="el-p"><p dir="auto">Request Parameters</p></div><div class="el-p"><p dir="auto">&nbsp;page of the custom resource or resource action editor.</p></div><div class="el-h2"><h2 data-heading="" dir="auto" class="heading" id="_7"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span></h2></div><div class="el-p"><p dir="auto">Day 2 Operation Request Form Validation</p></div><div class="el-p"><p dir="auto">You can validate the request form of your day 2 operations by adding an external validation. By using an external validation, you prevent the user from submitting the request form until the validation parameters are satisfied. You can add external validation from the&nbsp;</p></div><div class="el-p"><p dir="auto">Validations</p></div><div class="el-p"><p dir="auto">&nbsp;tab of the&nbsp;</p></div><div class="el-p"><p dir="auto">Request Parameters</p></div><div class="el-p"><p dir="auto">&nbsp;page of the custom resource or resource action editor. After selecting the tab, you can drag an&nbsp;</p></div><div class="el-p"><p dir="auto">Orchestrator validation</p></div><div class="el-p"><p dir="auto">&nbsp;element to the canvas and add a&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;action that you want to use for validation.</p></div><div class="el-p"><p dir="auto">For example, you can create a custom resource that includes a day 2 operation for changing a user password. For such a use case, you can add a&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Operations orchestrator</p></div><div class="el-p"><p dir="auto">&nbsp;action with&nbsp;</p></div><div class="el-p"><p dir="auto">newPassword</p></div><div class="el-p"><p dir="auto">&nbsp;and&nbsp;</p></div><div class="el-p"><p dir="auto">confirmPassword</p></div><div class="el-p"><p dir="auto">&nbsp;input parameters that use the&nbsp;</p></div><div class="el-p"><p dir="auto">SecureString</p></div><div class="el-p"><p dir="auto">&nbsp;type.</p></div><div class="el-p"><p dir="auto">This is a sample script for validating a user password. For your own use case, you can decide to use a different script.</p></div><div class="el-pre"><pre class="language-default"><code data-line="0" class="language-default is-loaded">if (newPassword != confirmPassword) {
    return 'passwords are different';
}
if (newPassword.lenght &lt; 7) {
    return 'password must be at least 10 symbols';
}
return null;
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="footer"><div class="data-bar"></div></div></div></div></div><div id="right-content" class="leaf" style="--sidebar-width: var(--sidebar-width-right);"><div id="right-sidebar" class="sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme-toggle-input" id=""><input class="theme-toggle-input" type="checkbox" id="theme-toggle-input"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content-wrapper"><div id="right-sidebar-content" class="leaf-content"><div class="graph-view-wrapper"><div class="feature-header"><div class="feature-title">Interactive Graph</div></div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<div class="graph-icon graph-global" role="button" aria-label="Global Graph" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-git-fork"><circle cx="12" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><circle cx="18" cy="6" r="3"></circle><path d="M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9"></path><path d="M12 12v3"></path></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div id="outline" class=" tree-container"><div class="feature-header"><div class="feature-title">Table Of Contents</div><button class="clickable-icon nav-action-button tree-collapse-all" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-item mod-collapsible" data-depth="1"><a class="tree-item-self is-clickable mod-collapsible" href="vcf/control-planes/vcf-automation/policy-and-extensibility/managing-custom-resources-in-vcf-automation-blueprints.html#Managing_Custom_Resources_in_VCF_Automation_Blueprints_0" data-path="#Managing_Custom_Resources_in_VCF_Automation_Blueprints_0"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><div class="tree-item-inner heading-link" heading-name="Managing Custom Resources in VCF Automation Blueprints">Managing Custom Resources in VCF Automation Blueprints</div></a><div class="tree-item-children"><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="vcf/control-planes/vcf-automation/policy-and-extensibility/managing-custom-resources-in-vcf-automation-blueprints.html#_0" data-path="#_0"><div class="tree-item-inner heading-link" heading-name=""></div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="vcf/control-planes/vcf-automation/policy-and-extensibility/managing-custom-resources-in-vcf-automation-blueprints.html#_1" data-path="#_1"><div class="tree-item-inner heading-link" heading-name=""></div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="vcf/control-planes/vcf-automation/policy-and-extensibility/managing-custom-resources-in-vcf-automation-blueprints.html#_2" data-path="#_2"><div class="tree-item-inner heading-link" heading-name=""></div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="vcf/control-planes/vcf-automation/policy-and-extensibility/managing-custom-resources-in-vcf-automation-blueprints.html#_3" data-path="#_3"><div class="tree-item-inner heading-link" heading-name=""></div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="vcf/control-planes/vcf-automation/policy-and-extensibility/managing-custom-resources-in-vcf-automation-blueprints.html#_4" data-path="#_4"><div class="tree-item-inner heading-link" heading-name=""></div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="vcf/control-planes/vcf-automation/policy-and-extensibility/managing-custom-resources-in-vcf-automation-blueprints.html#_5" data-path="#_5"><div class="tree-item-inner heading-link" heading-name=""></div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="vcf/control-planes/vcf-automation/policy-and-extensibility/managing-custom-resources-in-vcf-automation-blueprints.html#_6" data-path="#_6"><div class="tree-item-inner heading-link" heading-name=""></div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="vcf/control-planes/vcf-automation/policy-and-extensibility/managing-custom-resources-in-vcf-automation-blueprints.html#_7" data-path="#_7"><div class="tree-item-inner heading-link" heading-name=""></div></a><div class="tree-item-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector("#right-sidebar"); rs.classList.toggle("is-collapsed", window.innerWidth < 768); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></div></div></body></html>