<!DOCTYPE html> <html lang="en"><head>
<title>Generating API Access Tokens using vIDB</title>
<base href="../../../../..">
<meta name="pathname" content="vcf/control-planes/vcf-automation/tenancy-and-access-control/vcf-identity-broker/generating-api-access-tokens-using-vidb.html">
<meta name="description" content="VMware Cloud Foundation - Generating API Access Tokens using vIDB">
<meta property="og:title" content="Generating API Access Tokens using vIDB">
<meta property="og:description" content="VMware Cloud Foundation - Generating API Access Tokens using vIDB">
<meta property="og:type" content="website">
<meta property="og:url" content="vcf/control-planes/vcf-automation/tenancy-and-access-control/vcf-identity-broker/generating-api-access-tokens-using-vidb.html">
<meta property="og:image" content="undefined">
<meta charset="UTF-8"><meta property="og:site_name" content="VMware Cloud Foundation"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="site-lib/rss.xml"><script async="" id="webpage-script" src="site-lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-wasm-script" src="site-lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="site-lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="site-lib/media/favicon.png"><link rel="stylesheet" href="site-lib/styles/obsidian.css"><link rel="preload" href="site-lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="site-lib/styles/theme.css"><link rel="preload" href="site-lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="site-lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/main-styles.css"></noscript><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-vertical-spacing:1.3em;--sidebar-margin:12px}:root{background-color:#202124}.sidebar{height:100%;font-size:14px;z-index:10;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));position:relative;overflow:hidden;overflow:clip;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}#left-sidebar{left:0}#right-sidebar{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}.sidebar.floating{position:absolute}.sidebar .leaf-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .leaf-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}#left-sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}#right-sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar #left-sidebar-content,.sidebar #right-sidebar-content{contain:none!important;container-type:normal!important;animation:none!important}.sidebar:has(.leaf-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:calc(2.3em + 2 * var(--sidebar-margin));width:var(--sidebar-width);padding:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}#left-sidebar .sidebar-topbar{left:0;flex-direction:row;border-top-right-radius:var(--radius-l)}#right-sidebar .sidebar-topbar{right:0;flex-direction:row-reverse;border-top-left-radius:var(--radius-l)}#left-sidebar .topbar-content{margin-right:calc(2.3em + var(--sidebar-margin));flex-direction:row}#right-sidebar .topbar-content{margin-left:calc(2.3em + var(--sidebar-margin));flex-direction:row-reverse}.topbar-content{overflow:hidden visible;overflow:clip visible;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:2px!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}#left-sidebar .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}#right-sidebar .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.feature-title{margin-left:1px;text-transform:uppercase;letter-spacing:.06em;margin-top:.75em;margin-bottom:.75em}.feature-header{display:flex;align-items:center;padding-top:0;font-size:1em;padding-left:0}body.floating-sidebars .sidebar{position:absolute}body{transition:background-color var(--color-fade-speed) ease-in-out}#navbar:not(:empty){display:flex;align-items:center;justify-content:space-between;padding:.5em 1em;width:100%}#main{display:flex;flex-direction:column;height:100%;width:100%;align-items:stretch;justify-content:center}#main-horizontal{display:flex;flex-direction:row;flex-grow:1;width:100%;align-items:stretch;justify-content:center}#center-content{flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0!important;transition:opacity .2s ease-in-out;pointer-events:none}#center-content>.obsidian-document{padding-left:2em;padding-right:1em;margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}body #center-content>.obsidian-document>.markdown-preview-sizer{padding-bottom:80vh;width:100%;max-width:var(--line-width);flex-basis:var(--line-width);transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}#center-content>.obsidian-document>div{width:100%!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}#center-content>.obsidian-document:not([data-type=markdown]).embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}#center-content>.obsidian-document:not([data-type=markdown]).embed>*{max-width:100%;max-height:100%;object-fit:contain}:not(h1,h2,h3,h4,h5,h6,li):has(> :is(.math,table)){overflow-x:auto!important}#center-content>.obsidian-document:not([data-type=markdown]){overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.obsidian-document[data-type=attachment]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:100%}.obsidian-document[data-type=attachment]>*{outline:0;border:none;box-shadow:none}.obsidian-document[data-type=attachment] :is(img){max-width:90%;max-height:90%;object-fit:contain}.obsidian-document[data-type=attachment]>:is(audio){width:100%;max-width:min(90%,var(--line-width))}.obsidian-document[data-type=attachment]>:is(embed,iframe,video){width:100%;height:100%;max-width:100%;max-height:100%;object-fit:contain}.canvas-wrapper>:is(.header,.footer){z-index:100;position:absolute;display:flex;justify-content:center;flex-direction:column;width:100%;align-items:center}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){let e=document.querySelectorAll("link[itemprop='include']");for(const t of e){let e=t.getAttribute("href");try{let o="";if(e.startsWith("https:")||e.startsWith("http:")||"file:"!=window.location.protocol){const n=await fetch(e);if(!n.ok){console.log("Could not include file: "+e),t?.remove();continue}o=await n.text()}else{const t=document.getElementById(btoa(encodeURI(e)));if(t){const e=JSON.parse(decodeURI(atob(t.getAttribute("value")??"")));o=e?.data??""}}let n=document.createRange().createContextualFragment(o);t.before(n),t.remove(),console.log("Included text: "+o),console.log("Included file: "+e)}catch(o){t?.remove(),console.log("Could not include file: "+e,o);continue}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script")));!function e(n){let l=o[n],c=n+1;l?(l&&"true"!=l.getAttribute("loaded")||n<o.length&&e(c),n<o.length&&l.addEventListener("load",(()=>e(c)))):n<o.length?e(c):t()}(0)}</script></head><body class="publish css-settings-manager mod-windows is-hidden-frameless styled-scrollbars show-inline-title show-ribbon show-view-header minimal-line-nums minimal-solarized-light minimal-dracula-dark is-focused trim-cols sidebar-tabs-default minimal-light-tonal colorful-headings colorful-frame colorful-active links-int-on links-ext-on full-width-media img-grid labeled-nav"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="parsed-feature-container" style="display: contents;"><link itemprop="include" href="site-lib/html/custom-head-content-content.html"></div><div id="main"><div id="navbar"></div><div id="main-horizontal"><div id="left-content" class="leaf" style="--sidebar-width: var(--sidebar-width-left);"><div id="left-sidebar" class="sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><div id="search-container"><div id="search-wrapper"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div aria-label="Clear search" id="search-clear-button"></div></div></div></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content-wrapper"><div id="left-sidebar-content" class="leaf-content"><link itemprop="include" href="site-lib/html/file-tree-content.html"></div></div><script defer="">let ls = document.querySelector("#left-sidebar"); ls.classList.toggle("is-collapsed", window.innerWidth < 768); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div></div><div id="center-content" class="leaf"><div class="obsidian-document markdown-preview-view markdown-rendered node-insert-event allow-fold-headings allow-fold-lists show-indentation-guide show-properties is-readable-line-width" data-type="markdown"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><div class="header"><h1 class="page-title heading inline-title" id="Generating_API_Access_Tokens_using_vIDB_0">Generating API Access Tokens using vIDB</h1><div class="data-bar"></div></div><div class="markdown-preview-pusher" style="width: 1px; height: 0.1px; margin-bottom: 0px;"></div><div class="el-p"><p dir="auto">You can generate and issue API access tokens. You are authenticated using your respective security best practices, including leveraging two-factor authorization, by using API access tokens, you can grant access for building automation against&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Automation</p></div><div class="el-p"><p dir="auto">.</p></div><div class="el-p"><p dir="auto">Authenticating with an API token uses the "Refreshing an Access Token" standard as specified in the OAuth 2.0 RFC 6749 Section 6 to allow access to&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Automation</p></div><div class="el-p"><p dir="auto">&nbsp;as an OAuth application. The returned access token is the same as a&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Automation</p></div><div class="el-p"><p dir="auto">&nbsp;access token and client applications can use it to make subsequent API calls to&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Automation</p></div><div class="el-p"><p dir="auto">. To make an OAuth 2.0 RFC-compliant request, familiarize yourself with&nbsp;<a data-tooltip-position="top" aria-label="https://datatracker.ietf.org/doc/html/rfc6749#section-6" rel="noopener nofollow" class="external-link is-unresolved" href="https://datatracker.ietf.org/doc/html/rfc6749#section-6" target="_self">Request for Comments (RFC) 6749 Section 6</a>&nbsp;information about refreshing an access token.</p></div><div class="el-p"><p dir="auto">Access tokens are artifacts that client applications use to make API requests on behalf of a user. Applications need access tokens for authentication. When an access token expires, to obtain access tokens, applications can use API tokens. By default, API tokens expire after 90 days.</p></div><div class="el-p"><p dir="auto">When using access tokens, applications cannot perform certain tasks.</p></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>
<p>Change the user password</p>
</li>
<li data-line="2" dir="auto"><span class="list-bullet"></span>
<p>Perform user management tasks</p>
</li>
<li data-line="4" dir="auto"><span class="list-bullet"></span>
<p>Create more tokens</p>
</li>
<li data-line="6" dir="auto"><span class="list-bullet"></span>
<p>View or revoke other tokens</p>
</li>
</ul></div><div class="el-p"><p dir="auto">When accessing&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Automation</p></div><div class="el-p"><p dir="auto">&nbsp;by using an API access token, applications have only view rights for the following resources.</p></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>
<p>User</p>
</li>
<li data-line="2" dir="auto"><span class="list-bullet"></span>
<p>Group</p>
</li>
<li data-line="4" dir="auto"><span class="list-bullet"></span>
<p>Roles</p>
</li>
<li data-line="6" dir="auto"><span class="list-bullet"></span>
<p>Global roles</p>
</li>
<li data-line="8" dir="auto"><span class="list-bullet"></span>
<p>Rights bundles</p>
</li>
</ul></div><div class="el-p"><p dir="auto">Applications accessing&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Automation</p></div><div class="el-p"><p dir="auto">&nbsp;by using an API access token do not have the following rights.</p></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>
<p>Token: Manage</p>
</li>
<li data-line="2" dir="auto"><span class="list-bullet"></span>
<p>Token: Manage All</p>
</li>
</ul></div><div class="el-p"><p dir="auto">Similar to generating a user API token, you can create a service account by using the&nbsp;</p></div><div class="el-p"><p dir="auto">VCF Automation</p></div><div class="el-p"><p dir="auto">&nbsp;API. The API request for creating a service account uses the same API endpoint as creating a user API token, but the presence of the&nbsp;</p></div><div class="el-p"><p dir="auto">software_id</p></div><div class="el-p"><p dir="auto">&nbsp;field indicates the intent to create a service account.</p></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>
<p>In the upper right corner of the navigation bar, click your user name, and select&nbsp;</p>
<p>  My Account</p>
<p>  .</p>
</li>
<li data-line="6" dir="auto"><span class="list-bullet"></span>
<p>Under the&nbsp;</p>
<p>  API Tokens</p>
<p>  &nbsp;section, click&nbsp;</p>
<p>  New</p>
<p>  .</p>
</li>
<li data-line="16" dir="auto"><span class="list-bullet"></span>
<p>Enter a name for the token, and click&nbsp;</p>
<p>  Create</p>
<p>  .</p>
<p>  The generated API token appears. You must copy the token because it appears only once. After you click&nbsp;</p>
<p>  OK</p>
<p>  , you cannot retrieve this token again, you can only revoke it.</p>
</li>
<li data-line="28" dir="auto"><span class="list-bullet"></span>
<p>Make an OAuth 2.0 RFC-compliant request to the&nbsp;</p>
<p>  https://</p>
<p>  site.cloud.example.com</p>
<p>  /oauth/provider/token</p>
<p>  &nbsp;API endpoint.</p>
<table>
<thead>
<tr>
<th></th>
<th>Key</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>grant_type</td>
</tr>
<tr>
<td></td>
<td>refresh_token</td>
</tr>
</tbody>
</table>
<p>  The request returns an access token that applications can use to perform tasks in&nbsp;</p>
<p>  VCF Automation</p>
<p>  . The token is valid even after the user logs out. When an access token expires, the application can obtain more access tokens by using the API token.</p>
</li>
</ul></div><div class="el-p"><p dir="auto">Request:</p></div><div class="el-pre"><pre class="language-default"><code data-line="0" class="language-default is-loaded">POST https://host_name/oauth/provider/token
Accept: application/json
Content-Type: application/x-www-form-urlencoded
Content-Length: 71

grant_type=refresh_token&amp;refresh_token=Generated_API_Token
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Response:</p></div><div class="el-pre"><pre class="language-default"><code data-line="0" class="language-default is-loaded">HTTP/1.1 200 OK
Content-Type: application/json

{
   "access_token":"Generated_Access_Token",
   "token_type":"Bearer",
   "expires_in":2592000,
   "refresh_token":null
}
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Request using the generated access token:</p></div><div class="el-pre"><pre class="language-default"><code data-line="0" class="language-default is-loaded">GET https://host_name/cloudapi/1.0.0/orgs 
Accept: application/json;version=40.0 
Authorization: Bearer Generated_Access_Token
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Response:</p></div><div class="el-pre"><pre class="language-default"><code data-line="0" class="language-default is-loaded">{"resultTotal":1,"pageCount":1,"page":1,"pageSize":25,"associations":[{"entityId":"urn:vcloud:org:a11a11a1-1111-1111-1a11","associationId":"a11a11a1-1111-1111-1a11@a11a1a11-1111-1111-1a11"}],"values":[{"id":"urn:vcloud:org:a11a1a11-1111-1111-1a11-a1a11aa11a1","name":"System","displayName":"System","description":"System Bucket","isEnabled":true,"managedBy":null,"canManageOrgs":true,"maskedEventTaskUsername":"system","directlyManagedOrgCount":0,"isClassicTenant":false,"isProviderConsumptionOrg":false,"creationStatus":"READY"}]}% 
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>
<p>If you want tenants to be able to generate tokens, you must grant tenant roles the&nbsp;</p>
<p>  Manage user's own API token</p>
<p>  &nbsp;right.</p>
</li>
<li data-line="6" dir="auto"><span class="list-bullet"></span>
<p>By default, tenant users see only the tokens they create. To allow organization administrators to see and revoke the tokens of the other tenant users in the organization, you must grant them the&nbsp;</p>
<p>  Manage all users' API tokens</p>
<p>  &nbsp;right. Administrators with the&nbsp;</p>
<p>  Manage all users' API tokens</p>
<p>  &nbsp;right can see only the names of other users' the tokens, not the tokens themselves.</p>
</li>
<li data-line="16" dir="auto"><span class="list-bullet"></span>
<p>To revoke any of your tokens, navigate to the&nbsp;</p>
<p>  User preferences</p>
<p>  &nbsp;page, and click the vertical ellipsis next to the token.</p>
</li>
<li data-line="22" dir="auto"><span class="list-bullet"></span>
<p>To revoke the tokens of other users, in the top navigation bar, under&nbsp;</p>
<p>  Administration</p>
<p>  , navigate to the access control settings for users. When selecting a specific user, you can also see their access tokens and revoke them.</p>
</li>
<li data-line="28" dir="auto"><span class="list-bullet"></span>
<p>If you must identify events triggered by the use of an API access token, in the event log the following line appears in the&nbsp;</p>
<p>  additionalProperties</p>
<p>  &nbsp;section of an event.  ```default<br>
"currentContext.refreshTokenId": "&lt;UUID_of_the_token_that_performed_the_action&gt;</p>
<pre><code data-line="34"></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
</ul></div><div class="footer"><div class="data-bar"></div></div></div></div></div><div id="right-content" class="leaf" style="--sidebar-width: var(--sidebar-width-right);"><div id="right-sidebar" class="sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme-toggle-input" id=""><input class="theme-toggle-input" type="checkbox" id="theme-toggle-input"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content-wrapper"><div id="right-sidebar-content" class="leaf-content"><div class="graph-view-wrapper"><div class="feature-header"><div class="feature-title">Interactive Graph</div></div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<div class="graph-icon graph-global" role="button" aria-label="Global Graph" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-git-fork"><circle cx="12" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><circle cx="18" cy="6" r="3"></circle><path d="M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9"></path><path d="M12 12v3"></path></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div id="outline" class=" tree-container"><div class="feature-header"><div class="feature-title">Table Of Contents</div><button class="clickable-icon nav-action-button tree-collapse-all" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-item" data-depth="1"><a class="tree-item-self is-clickable" href="vcf/control-planes/vcf-automation/tenancy-and-access-control/vcf-identity-broker/generating-api-access-tokens-using-vidb.html#Generating_API_Access_Tokens_using_vIDB_0" data-path="#Generating_API_Access_Tokens_using_vIDB_0"><div class="tree-item-inner heading-link" heading-name="Generating API Access Tokens using vIDB">Generating API Access Tokens using vIDB</div></a><div class="tree-item-children"></div></div></div></div></div><script defer="">let rs = document.querySelector("#right-sidebar"); rs.classList.toggle("is-collapsed", window.innerWidth < 768); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></div></div></body></html>